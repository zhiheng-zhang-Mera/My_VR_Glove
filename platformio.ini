; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino

; -----------------------------------------------------------------------------
; [Port Selection] Hardware Connection
; [端口选择] 硬件连接配置
; -----------------------------------------------------------------------------
; Explicitly define the port if auto-detection fails. 
; Comment these lines out to let PlatformIO auto-detect the port (Recommended).
; 如果自动检测失败，请在此显式指定端口。
; 警告：建议注释掉以下两行，让 PlatformIO 自动检测端口（推荐）。
upload_port = COM7
monitor_port = COM7

; -----------------------------------------------------------------------------
; [Connection Settings] High-Speed Configuration
; [连接设置] 高速配置
; -----------------------------------------------------------------------------
; Must match SERIAL_BAUD_RATE in Config.h (921600).
; Ensure USB cable and bridge chip support this speed.
; 必须与 Config.h 中的 SERIAL_BAUD_RATE 保持一致 (921600)。
; 请确保USB 线缆和桥接芯片支持此速率。
monitor_speed = 921600

; Maximize upload speed to reduce waiting time.
; Lower this value (e.g., to 115200) if upload fails frequently.
; 拉满上传速度以减少等待时间。
; 如果上传频繁失败，请降低此值（例如降至 115200）。
upload_speed = 921600

; Monitor filters:
; 'send_on_enter': Send text to device on ENTER.
; 'default': Standard decoding.
; 监视器过滤器：
; 'send_on_enter': 按回车键发送文本。
; 'default': 标准解码。
monitor_filters = send_on_enter, default

; -----------------------------------------------------------------------------
; [Library Dependencies] External Libraries
; [库依赖] 外部库管理
; -----------------------------------------------------------------------------
lib_deps = 
    ; Essential library for driving PWM servos on ESP32.
    ; ESP32 驱动 PWM 舵机的核心库。
    madhephaestus/ESP32Servo @ ^0.13.0
    
    ; Optional: Smooth filtering library.
    ; Uncomment if ENABLE_MEDIAN_FILTER = true in AdvancedConfig.h.
    ; Kept commented out for maximum raw performance.
    ; 可选：平滑滤波库。
    ; 如果在 AdvancedConfig.h 中启用了 ENABLE_MEDIAN_FILTER，请解开注释。
    ; 为追求极致的原始性能，此处默认注释掉。
    ; robtillaart/RunningMedian @ ^0.3.7

; -----------------------------------------------------------------------------
; [Compiler Options] Build Flags & Definitions
; [编译选项] 构建标志与定义
; -----------------------------------------------------------------------------
build_flags = 
    ; Optimization: Set debug level to 0 to reduce serial overhead and binary size.
    ; 优化：将调试等级设为 0，减少串口开销和二进制文件大小。
    -DCORE_DEBUG_LEVEL=0
    
    ; Add 'src' directory to include path.
    ; This ensures simple #include "Config.h" works from subdirectories.
    ; 将 'src' 目录添加到包含路径中。
    ; 这确保了在子目录中可以直接使用 #include "Config.h"。
    -I src